(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1773:(e,t,s)=>{"use strict";s.d(t,{default:()=>eP});var a=s(5155),r=s(2115);let i={koi:{title:"\uD83E\uDDCA KOI",items:{"Fire Crystals":{points:2e3,available:!0,toggle:"fire-crystals",minAmount:1},"Fire Crystal Shards":{points:1e3,available:!0,toggle:"fire-shards",minAmount:1},"1 Minute of Speedups":{points:30,available:!0,toggle:"speedups"},"Mythic General Shards":{points:3040,available:!0,toggle:"mythic-shards",minAmount:5},"Hero Gear Essence Stone":{points:4e3,available:!0,toggle:"essence-stones",minAmount:1},Mithril:{points:4e4,available:!0,toggle:"mithril",minAmount:1},Sigils:{points:6e3,available:!0},"Wisdom Books":{points:60,available:!0}},troops:{koi_svs:{1:3,2:4,3:5,4:8,5:12,6:18,7:25,8:35,9:45,10:60,11:75},officer:{1:1,2:2,3:3,4:4,5:6,6:9,7:12,8:17,9:22,10:30,11:37}},toggles:[],specialCalculations:{polarTerror:{label:"Polar Terror Rallies",points:3e4,stamina:25}}},"officer-essence":{title:"\uD83E\uDDD1‍✈️ Essence",items:{"Hero Gear Essence Stone":{points:6e3,available:!0,toggle:"essence-stones",minAmount:1},Mithril:{points:216e3,available:!0,toggle:"mithril",minAmount:1}},troops:{koi_svs:{1:3,2:4,3:5,4:8,5:12,6:18,7:25,8:35,9:45,10:60,11:75},officer:{1:1,2:2,3:3,4:5,5:7,6:11,7:16,8:23,9:30,10:39,11:49}},toggles:[]},"officer-charm":{title:"\uD83E\uDDD1‍✈️ Charms",items:{"Hero Gear Essence Stone":{points:6e3,available:!0,toggle:"essence-stones",minAmount:1},"Mythic General Shards":{points:3040,available:!0,toggle:"mythic-shards",minAmount:5},"Epic Hero Shards":{points:1220,available:!0,toggle:"epic-shards",minAmount:5}},troops:{koi_svs:{1:3,2:4,3:5,4:8,5:12,6:18,7:25,8:35,9:45,10:60,11:75},officer:{1:1,2:2,3:3,4:4,5:6,6:9,7:12,8:17,9:22,10:30,11:37}},toggles:[]},"armament-tomes":{title:"\uD83C\uDFF9 Tomes",items:{"Fire Crystal":{points:100,available:!0,toggle:"fire-crystals",minAmount:1},"Refined Fire Crystal":{points:1500,available:!1,toggle:"fc6"},"Fire Crystal Shard (research)":{points:50,available:!1,toggle:"state-age"},Mithril:{points:28800,available:!0,toggle:"mithril",minAmount:1},"Hero Gear Essence Stone":{points:800,available:!0,toggle:"essence-stones",minAmount:1},"1 Minute of Speedups":{points:1,available:!0,toggle:"speedups"}},troops:{koi_svs:{},officer:{}},toggles:[{id:"fc6",label:"FC6+ Available",tooltip:"Enable if you have Furnace Core level 6+"},{id:"state-age",label:"State Age Research",tooltip:"Enable if your state has research unlocked"}]},"armament-design":{title:"\uD83C\uDFF9 Designs",items:{"Fire Crystal":{points:100,available:!0,toggle:"fire-crystals",minAmount:1},"Refined Fire Crystal":{points:1500,available:!1,toggle:"fc6"},"Fire Crystal Shard (research)":{points:50,available:!1,toggle:"state-age"},Mithril:{points:28800,available:!0,toggle:"mithril",minAmount:1},"Hero Gear Essence Stone":{points:800,available:!0,toggle:"essence-stones",minAmount:1},"1 Minute of Speedups":{points:1,available:!0,toggle:"speedups"},Sigils:{points:200,available:!0},"Wisdom Books":{points:2,available:!0}},troops:{koi_svs:{},officer:{}},toggles:[{id:"fc6",label:"FC6+ Available",tooltip:"Enable if you have Furnace Core level 6+"},{id:"state-age",label:"State Age Research",tooltip:"Enable if your state has research unlocked"}]},svs:{title:"\uD83C\uDFF4‍☠️ SVS",items:{"Fire Crystal":{points:2e3,available:!0,toggle:"fire-crystals",minAmount:1},"Fire Crystal Shard (research)":{points:1e3,available:!0,toggle:"fire-shards",minAmount:1},"Refined Fire Crystal":{points:3e4,available:!0,toggle:"refined-crystals"},"1 Minute of Speedups":{points:30,available:!0,toggle:"speedups"},"Epic Hero Shard":{points:1220,available:!0,toggle:"epic-shards",minAmount:5},"Mythic General Shard":{points:3040,available:!0,toggle:"mythic-shards",minAmount:5},"Advanced Wild Marks":{points:15e3,available:!0,toggle:"adv-marks"},"Common Wild Marks":{points:1150,available:!0,toggle:"common-marks"},"Hero Gear Essence Stone":{points:4e3,available:!0,toggle:"essence-stones",minAmount:1},Mithril:{points:4e4,available:!0,toggle:"mithril",minAmount:1},Sigils:{points:6e3,available:!0},"Wisdom Books":{points:60,available:!0}},troops:{koi_svs:{1:1,2:2,3:3,4:4,5:6,6:9,7:12,8:17,9:22,10:30,11:37},officer:{}},toggles:[],specialCalculations:{polarTerror:{label:"Polar Terror Rallies",points:3e4,stamina:25}}},custom:{title:"⚙️ Custom",items:{},troops:{koi_svs:{},officer:{}},toggles:[]}};var l=s(5894),n=s(574),o=s(4269);let c=n.bL,d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.B8,{ref:t,className:(0,o.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...r})});d.displayName=n.B8.displayName;let m=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.l9,{ref:t,className:(0,o.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...r})});m.displayName=n.l9.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.UC,{ref:t,className:(0,o.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...r})}).displayName=n.UC.displayName;let p=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...r})});p.displayName="Card";let u=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",s),...r})});u.displayName="CardHeader";let f=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("h3",{ref:t,className:(0,o.cn)("text-2xl font-semibold leading-none tracking-tight",s),...r})});f.displayName="CardTitle";let h=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("p",{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",s),...r})});h.displayName="CardDescription";let g=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("p-6 pt-0",s),...r})});g.displayName="CardContent";let x=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("flex items-center p-6 pt-0",s),...r})});x.displayName="CardFooter";var b=s(7129),v=s(3101);let j=(0,v.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),y=r.forwardRef((e,t)=>{let{className:s,variant:r,size:i,asChild:l=!1,...n}=e,c=l?b.DX:"button";return(0,a.jsx)(c,{className:(0,o.cn)(j({variant:r,size:i,className:s})),ref:t,...n})});y.displayName="Button";let N=r.forwardRef((e,t)=>{let{className:s,type:r,...i}=e;return(0,a.jsx)("input",{type:r,className:(0,o.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...i})});N.displayName="Input";var w=s(489);let A=(0,v.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),S=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(w.b,{ref:t,className:(0,o.cn)(A(),s),...r})});S.displayName=w.b.displayName;var C=s(6269),k=s(9007),E=s(2614),T=s(2251);let R=C.bL;C.YJ;let O=C.WT,M=r.forwardRef((e,t)=>{let{className:s,children:r,...i}=e;return(0,a.jsxs)(C.l9,{ref:t,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...i,children:[r,(0,a.jsx)(C.In,{asChild:!0,children:(0,a.jsx)(k.A,{className:"h-4 w-4 opacity-50"})})]})});M.displayName=C.l9.displayName;let F=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(C.PP,{ref:t,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",s),...r,children:(0,a.jsx)(E.A,{className:"h-4 w-4"})})});F.displayName=C.PP.displayName;let I=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(C.wn,{ref:t,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",s),...r,children:(0,a.jsx)(k.A,{className:"h-4 w-4"})})});I.displayName=C.wn.displayName;let _=r.forwardRef((e,t)=>{let{className:s,children:r,position:i="popper",...l}=e;return(0,a.jsx)(C.ZL,{children:(0,a.jsxs)(C.UC,{ref:t,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:i,...l,children:[(0,a.jsx)(F,{}),(0,a.jsx)(C.LM,{className:(0,o.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,a.jsx)(I,{})]})})});_.displayName=C.UC.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(C.JU,{ref:t,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...r})}).displayName=C.JU.displayName;let L=r.forwardRef((e,t)=>{let{className:s,children:r,...i}=e;return(0,a.jsxs)(C.q7,{ref:t,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...i,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(C.VF,{children:(0,a.jsx)(T.A,{className:"h-4 w-4"})})}),(0,a.jsx)(C.p4,{children:r})]})});L.displayName=C.q7.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(C.wv,{ref:t,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",s),...r})}).displayName=C.wv.displayName;var D=s(7599);let P=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(D.bL,{className:(0,o.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",s),...r,ref:t,children:(0,a.jsx)(D.zi,{className:(0,o.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});P.displayName=D.bL.displayName;var z=s(6374);let U=z.bL,q=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(z.q7,{ref:t,className:(0,o.cn)("border-b",s),...r})});q.displayName="AccordionItem";let H=r.forwardRef((e,t)=>{let{className:s,children:r,...i}=e;return(0,a.jsx)(z.Y9,{className:"flex",children:(0,a.jsxs)(z.l9,{ref:t,className:(0,o.cn)("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",s),...i,children:[r,(0,a.jsx)(k.A,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})})});H.displayName=z.l9.displayName;let G=r.forwardRef((e,t)=>{let{className:s,children:r,...i}=e;return(0,a.jsx)(z.UC,{ref:t,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...i,children:(0,a.jsx)("div",{className:(0,o.cn)("pb-4 pt-0",s),children:r})})});G.displayName=z.UC.displayName;var V=s(6852);let B=V.Kq,J=V.bL,W=V.l9,K=r.forwardRef((e,t)=>{let{className:s,sideOffset:r=4,...i}=e;return(0,a.jsx)(V.UC,{ref:t,sideOffset:r,className:(0,o.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...i})});K.displayName=V.UC.displayName;let Q=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:t,className:(0,o.cn)("w-full caption-bottom text-sm",s),...r})})});Q.displayName="Table";let X=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("thead",{ref:t,className:(0,o.cn)("[&_tr]:border-b",s),...r})});X.displayName="TableHeader";let Y=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("tbody",{ref:t,className:(0,o.cn)("[&_tr:last-child]:border-0",s),...r})});Y.displayName="TableBody",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("tfoot",{ref:t,className:(0,o.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...r})}).displayName="TableFooter";let Z=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("tr",{ref:t,className:(0,o.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...r})});Z.displayName="TableRow";let $=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("th",{ref:t,className:(0,o.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",s),...r})});$.displayName="TableHead";let ee=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("td",{ref:t,className:(0,o.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",s),...r})});ee.displayName="TableCell",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("caption",{ref:t,className:(0,o.cn)("mt-4 text-sm text-muted-foreground",s),...r})}).displayName="TableCaption";var et=s(6511),es=s(975),ea=s(4374),er=s(212),ei=s(6419),el=s(1719),en=s(7314),eo=s(8955),ec=s(3403),ed=s(3063),em=s(5418),ep=s(4955),eu=s(850),ef=s(6691),eh=s(8941),eg=s(8772),ex=s(3489),eb=s(3630),ev=s(3263),ej=s(2593),ey=s(4825),eN=s(1064),ew=s(9489),eA=s(15),eS=s(4517),eC=s(1140),ek=s(2649),eE=s(1480),eT=s(6615),eR=s(7304),eO=s(3173),eM=s(2452),eF=s(9971),eI=s(6302),e_=s(1288),eL=s(6065);let eD={swords:et.A,barChart:es.A,trendingUp:ea.A,target:er.A,trophy:ei.A,package:el.A,user:en.A,crosshair:eo.A,flag:ec.A,settings:ed.A,bot:em.A,accessibility:ep.A,zoomIn:eu.A,contrast:ef.A,pause:eh.A,upload:eg.A,download:ex.A,trash:eb.A,chevronDown:k.A,chevronRight:ev.A,clock:ej.A,coins:ey.A,helmet:eN.A,brain:ew.A,areaChart:eA.A,calendarCheck:eS.A,flame:eC.A,star:ek.A,zap:eE.A,ax:eT.A,gem:eR.A,arrowRight:eO.A,plusCircle:eM.A,fileUp:eF.A,fileDown:eI.A,copy:e_.A,info:eL.A};function eP(){var e;let{toast:t}=(0,l.dj)(),[s,n]=(0,r.useState)("calculator"),[o,b]=(0,r.useState)("koi"),[v,j]=(0,r.useState)({}),[w,A]=(0,r.useState)({}),[C,k]=(0,r.useState)({}),[E,T]=(0,r.useState)(!1),[F,I]=(0,r.useState)(!1),[D,z]=(0,r.useState)(0),[V,et]=(0,r.useState)(0),[es,ea]=(0,r.useState)(null),[er,ei]=(0,r.useState)(),[el,en]=(0,r.useState)(),[eo,ec]=(0,r.useState)(),[ed,em]=(0,r.useState)("koi_svs"),[ep,eu]=(0,r.useState)(),[ef,eh]=(0,r.useState)(),[eg,ex]=(0,r.useState)(),[eb,ev]=(0,r.useState)(""),[ej,ey]=(0,r.useState)(""),[eN,ew]=(0,r.useState)(""),[eA,eS]=(0,r.useState)(""),[eC,ek]=(0,r.useState)({largeText:!1,extraLargeText:!1,highContrast:!1,reducedMotion:!1}),[eE,eT]=(0,r.useState)(!1),eR=(0,r.useMemo)(()=>{if("custom"===o)return C[eA]||i.custom;let e=JSON.parse(JSON.stringify(i[o]));return Object.keys(e.items).forEach(t=>{let s=e.items[t];if(s.toggle){var a;let e="".concat(o,"-").concat(s.toggle);s.available=null!=(a=w[e])?a:s.available}}),e},[o,C,eA,w]);(0,r.useEffect)(()=>{eT(!0),eO()},[]),(0,r.useEffect)(()=>{eE&&eM()},[s,o,v,w,C,E,F,eC]),(0,r.useEffect)(()=>{eF()},[v,F,er,el,eo,eR,ed]),(0,r.useEffect)(()=>{E?eI():ea(null)},[E,V,eR,v]),(0,r.useEffect)(()=>{let e=document.documentElement;Object.entries(eC).forEach(t=>{let[s,a]=t;e.classList.toggle(s.replace(/([A-Z])/g,"-$1").toLowerCase(),a)})},[eC]),(0,r.useEffect)(()=>{let e=24*(ep||0)*3600+60*(ef||0)*60+60*(eg||0);e>0&&ec(e)},[ep,ef,eg]);let eO=()=>{try{let e=JSON.parse(localStorage.getItem("frostyStrategist")||"{}");if(Object.keys(e).length>0){n(e.currentSection||"calculator"),b(e.currentEvent||"koi"),j(e.itemCounts||{}),A(e.toggleStates||{}),k(e.customEvents||{}),T(e.snipingEnabled||!1),I(e.troopsEnabled||!1),ek(e.accessibilitySettings||{largeText:!1,extraLargeText:!1,highContrast:!1,reducedMotion:!1});let t=Object.keys(e.customEvents||{})[0];t&&eS(t)}}catch(e){console.error("Failed to load from storage",e)}},eM=()=>{try{localStorage.setItem("frostyStrategist",JSON.stringify({currentSection:s,currentEvent:o,itemCounts:v,toggleStates:w,customEvents:C,snipingEnabled:E,troopsEnabled:F,accessibilitySettings:eC}))}catch(e){console.error("Failed to save to storage",e)}},eF=(0,r.useCallback)(()=>{let e=0;if(Object.entries(eR.items).forEach(t=>{let[s,a]=t;if(a.available){let t=v["".concat(o,"-").concat(eA,"-").concat(s)]||0;e+=t*a.points}}),eR.specialCalculations&&Object.entries(eR.specialCalculations).forEach(t=>{let[s,a]=t,r=v["".concat(o,"-special-").concat(s)]||0;e+=r*a.points}),F&&er&&el&&eo){var t;let s=(null==(t=eR.troops[ed])?void 0:t[er])||0;el>0&&(e+=Math.floor(eo/el)*s)}z(e)},[o,v,eR,F,er,el,eo,ed,eA]),eI=(0,r.useCallback)(()=>{if(!E||V<=0)return void ea(null);let e=Object.entries(eR.items).filter(e=>{let[,t]=e;return t.available&&t.points>0}).map(e=>{let[t,s]=e,a=v["".concat(o,"-").concat(eA,"-").concat(t)]||0;return{name:t,points:s.points,efficiency:s.points,minAmount:s.minAmount||1,quantity:a}}).filter(e=>e.quantity>0).sort((e,t)=>t.efficiency-e.efficiency),t=V,s=[];for(let a of e){if(t<=0)break;let e=Math.floor(t/a.points);if(e>a.quantity&&(e=a.quantity),e>0){let r=e;a.minAmount&&a.minAmount>1&&(r=Math.floor(e/a.minAmount)*a.minAmount),r>0&&(s.push({item:a.name,quantity:r,points:r*a.points}),t-=r*a.points)}}if(t>0)for(let a of[...e].sort((e,t)=>e.efficiency-t.efficiency)){if(t<=0)break;let e=s.find(e=>e.item===a.name),r=e?e.quantity:0,i=a.quantity-r;if(a.points<=t&&i>0){let r=Math.floor(t/a.points);r>i&&(r=i),a.minAmount&&a.minAmount>1&&(r=Math.floor(r/a.minAmount)*a.minAmount),r>0&&(e?(e.quantity+=r,e.points+=r*a.points):s.push({item:a.name,quantity:r,points:r*a.points}),t-=r*a.points)}}ea(s)},[E,V,eR,v,o,eA]);if(!eE)return(0,a.jsx)("div",{className:"flex justify-center items-center h-screen",children:"Loading Stratagems..."});let e_=[{id:"sniping",label:"Smart Sniping",icon:eD.crosshair,enabled:E,setEnabled:T},{id:"troops",label:"Troop Training",icon:eD.helmet,enabled:F,setEnabled:I,hidden:!Object.values(eR.troops).some(e=>Object.keys(e).length>0)}];return(0,a.jsx)(B,{children:(0,a.jsxs)("div",{className:"space-y-6 md:space-y-8",children:[(0,a.jsxs)("header",{className:"text-center p-6 md:p-8 bg-gradient-to-br from-background to-primary rounded-lg shadow-2xl relative",children:[(0,a.jsxs)("h1",{className:"text-3xl md:text-4xl font-bold flex items-center justify-center gap-3",children:[(0,a.jsx)(eD.swords,{className:"w-8 h-8"}),"Frosty Strategist",(0,a.jsx)("span",{className:"text-xs align-super font-bold px-3 py-1 rounded-full bg-gradient-to-r from-chart-4 to-chart-5 text-black",children:"PRO"})]}),(0,a.jsx)("p",{className:"text-muted-foreground mt-2",children:"Advanced Resource Optimization for Whiteout Survival"}),(0,a.jsxs)("div",{className:"mt-4 text-sm bg-yellow-400/10 border border-yellow-400/50 text-yellow-300 rounded-lg p-3 max-w-md mx-auto",children:[(0,a.jsxs)("p",{children:["Advanced features unlock new strategies! Support development with ",(0,a.jsx)("span",{className:"font-bold",children:"Froststars"})," in-game!"]}),(0,a.jsx)("p",{className:"font-bold mt-1",children:"Player ID: 176435188 \uD83C\uDF81"})]})]}),(0,a.jsxs)(p,{children:[(0,a.jsx)(u,{children:(0,a.jsx)(c,{value:o,onValueChange:e=>{b(e),ea(null)},className:"w-full",children:(0,a.jsx)(d,{className:"grid w-full grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-7",children:Object.keys(i).map(e=>{let t=i[e].title;return(0,a.jsx)(m,{value:e,children:t},e)})})})}),(0,a.jsxs)(g,{className:"space-y-6",children:["custom"===o?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(p,{children:[(0,a.jsxs)(u,{children:[(0,a.jsx)(f,{children:"Create & Manage Custom Events"}),(0,a.jsx)(h,{children:"Design your own event calculators for any in-game event."})]}),(0,a.jsxs)(g,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(N,{placeholder:"New Event Name",value:eb,onChange:e=>ev(e.target.value)}),(0,a.jsxs)(y,{onClick:()=>eb.trim()?C[eb]?void t({variant:"destructive",title:"Error",description:"An event with this name already exists."}):void(k(e=>({...e,[eb]:{title:eb,items:{},troops:{koi_svs:{},officer:{}},toggles:[]}})),eS(eb),ev("")):void t({variant:"destructive",title:"Error",description:"Event name cannot be empty."}),children:[(0,a.jsx)(eD.plusCircle,{})," Create"]})]}),Object.keys(C).length>0&&(0,a.jsx)("div",{className:"grid sm:grid-cols-2 gap-4",children:(0,a.jsxs)("div",{children:[(0,a.jsx)(S,{htmlFor:"custom-event-select",children:"Select Event to Edit"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(R,{value:eA,onValueChange:eS,children:[(0,a.jsx)(M,{id:"custom-event-select",children:(0,a.jsx)(O,{placeholder:"Select an event"})}),(0,a.jsx)(_,{children:Object.keys(C).map(e=>(0,a.jsx)(L,{value:e,children:e},e))})]}),eA&&(0,a.jsxs)(J,{children:[(0,a.jsx)(W,{asChild:!0,children:(0,a.jsx)(y,{variant:"destructive",size:"icon",onClick:()=>{k(e=>{let t={...e};return delete t[eA],eA==eA&&eS(Object.keys(t)[0]||""),t})},children:(0,a.jsx)(eD.trash,{})})}),(0,a.jsx)(K,{children:(0,a.jsxs)("p",{children:["Delete '",eA,"' event"]})})]})]})]})})]})]}),eA&&C[eA]&&(0,a.jsxs)(p,{children:[(0,a.jsx)(u,{children:(0,a.jsxs)(f,{children:["Add Items to '",eA,"'"]})}),(0,a.jsxs)(g,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[(0,a.jsx)(N,{placeholder:"Item Name",value:ej,onChange:e=>ey(e.target.value)}),(0,a.jsx)(N,{type:"number",placeholder:"Points per item",value:eN,onChange:e=>ew(e.target.value)}),(0,a.jsxs)(y,{onClick:()=>eA?!ej.trim()||!eN.trim()||isNaN(parseInt(eN))?void t({variant:"destructive",title:"Error",description:"Invalid item name or points."}):void(k(e=>{let t={...e[eA]};return t.items[ej]={points:parseInt(eN),available:!0},{...e,[eA]:t}}),ey(""),ew("")):void t({variant:"destructive",title:"Error",description:"Select a custom event first."}),className:"sm:w-auto w-full",children:[(0,a.jsx)(eD.plusCircle,{})," Add Item"]})]}),Object.keys(C[eA].items).length>0?(0,a.jsxs)(Q,{children:[(0,a.jsx)(X,{children:(0,a.jsxs)(Z,{children:[(0,a.jsx)($,{children:"Item"}),(0,a.jsx)($,{children:"Points"}),(0,a.jsx)($,{className:"text-right",children:"Action"})]})}),(0,a.jsx)(Y,{children:Object.entries(C[eA].items).map(e=>{let[t,s]=e;return(0,a.jsxs)(Z,{children:[(0,a.jsx)(ee,{className:"font-medium",children:t}),(0,a.jsx)(ee,{children:s.points.toLocaleString()}),(0,a.jsx)(ee,{className:"text-right",children:(0,a.jsx)(y,{variant:"ghost",size:"icon",onClick:()=>{eA&&k(e=>{let s={...e};return delete s[eA].items[t],s})},children:(0,a.jsx)(eD.trash,{className:"h-4 w-4"})})})]},t)})})]}):(0,a.jsx)("p",{className:"text-sm text-muted-foreground text-center pt-4",children:"No items added yet. Add items above to start calculating."})]})]})]}):null,(0,a.jsx)("h2",{className:"text-2xl font-bold text-primary flex items-center gap-2",children:eR.title}),(0,a.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:e_.filter(e=>!e.hidden).map(e=>(0,a.jsxs)(S,{className:"flex items-center gap-3 p-3 bg-secondary rounded-lg border cursor-pointer hover:border-primary transition-colors",children:[(0,a.jsx)(e.icon,{className:"w-5 h-5 text-accent"}),(0,a.jsx)("span",{className:"flex-grow",children:e.label}),(0,a.jsx)(P,{checked:e.enabled,onCheckedChange:e.setEnabled})]},e.id))}),(0,a.jsx)(U,{type:"single",collapsible:!0,children:(0,a.jsxs)(q,{value:"advanced-options",children:[(0,a.jsxs)(H,{className:"text-lg font-semibold",children:[(0,a.jsx)(eD.settings,{className:"mr-2"}),"Advanced Options & Settings"]}),(0,a.jsx)(G,{className:"p-4 bg-secondary rounded-b-lg",children:(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold mb-3 text-primary",children:"Event-Specific Options"}),(0,a.jsx)("div",{className:"space-y-3",children:eR.toggles.length>0?eR.toggles.map(e=>(0,a.jsxs)(S,{className:"flex items-center gap-3",children:[(0,a.jsx)(P,{checked:!!w["".concat(o,"-").concat(e.id)],onCheckedChange:()=>(e=>{let t="".concat(o,"-").concat(e);A(e=>({...e,[t]:!e[t]}))})(e.id)}),(0,a.jsxs)(J,{children:[(0,a.jsx)(W,{asChild:!0,children:(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[e.label," ",(0,a.jsx)(eD.info,{className:"w-3 h-3"})]})}),(0,a.jsx)(K,{children:(0,a.jsx)("p",{children:e.tooltip})})]})]},e.id)):(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"No specific options for this event."})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold mb-3 text-primary",children:"Accessibility"}),(0,a.jsx)("div",{className:"space-y-3",children:Object.entries({largeText:"Large Text",extraLargeText:"Extra Large Text",highContrast:"High Contrast",reducedMotion:"Reduce Motion"}).map(e=>{let[t,s]=e;return(0,a.jsxs)(S,{className:"flex items-center gap-3",children:[(0,a.jsx)(P,{checked:eC[t],onCheckedChange:()=>{ek(e=>{let s={...e,[t]:!e[t]};return"largeText"===t&&s.largeText&&(s.extraLargeText=!1),"extraLargeText"===t&&s.extraLargeText&&(s.largeText=!1),s})}}),(0,a.jsx)("span",{children:s})]},t)})})]})]})})]})}),(0,a.jsxs)("div",{className:"grid lg:grid-cols-2 gap-6 items-start",children:[(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"grid md:grid-cols-2 gap-4",children:Object.entries(eR.items).map(e=>{let[t,s]=e;return(0,a.jsxs)(p,{className:"transition-opacity ".concat(s.available?"opacity-100":"opacity-50"),children:[(0,a.jsx)(u,{className:"pb-2",children:(0,a.jsxs)(f,{className:"text-base font-semibold flex justify-between items-center",children:[(0,a.jsx)("span",{children:t}),(0,a.jsxs)("span",{className:"text-sm font-bold text-accent",children:[s.points.toLocaleString()," pts"]})]})}),(0,a.jsx)(g,{children:(0,a.jsx)(N,{type:"number",placeholder:s.minAmount?"Min: ".concat(s.minAmount):"Quantity",min:0,step:s.minAmount||1,value:v["".concat(o,"-").concat(eA,"-").concat(t)]||"",onChange:e=>((e,t)=>{let s=eR.items[e],a=parseInt(t)||0;(null==s?void 0:s.minAmount)&&a>0&&a<s.minAmount&&(a=s.minAmount);let r="".concat(o,"-").concat(eA,"-").concat(e);j(e=>({...e,[r]:a}))})(t,e.target.value),disabled:!s.available})})]},t)})}),"custom"!==o&&0===Object.keys(eR.items).length&&(0,a.jsx)("p",{className:"text-sm text-muted-foreground text-center col-span-2",children:"No items to calculate for this event. Check advanced options or enable features."})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[F&&Object.values(eR.troops).some(e=>Object.keys(e).length>0)&&(0,a.jsxs)(p,{children:[(0,a.jsxs)(u,{children:[(0,a.jsxs)(f,{className:"flex items-center gap-2",children:[(0,a.jsx)(eD.helmet,{})," Troop Training Calculator"]}),(0,a.jsx)(h,{children:"Calculate points from training troops for different events."})]}),(0,a.jsxs)(g,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid sm:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(S,{htmlFor:"troop-event-type",children:"Event Type"}),(0,a.jsxs)(R,{value:ed,onValueChange:e=>em(e),children:[(0,a.jsx)(M,{id:"troop-event-type",children:(0,a.jsx)(O,{})}),(0,a.jsxs)(_,{children:[(0,a.jsx)(L,{value:"koi_svs",children:"King of Icefield / SvS"}),(0,a.jsx)(L,{value:"officer",children:"Officer Events"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(S,{htmlFor:"troop-level",children:"Troop Level"}),(0,a.jsxs)(R,{value:null==er?void 0:er.toString(),onValueChange:e=>ei(parseInt(e)),children:[(0,a.jsx)(M,{id:"troop-level",children:(0,a.jsx)(O,{placeholder:"Select"})}),(0,a.jsx)(_,{children:Object.keys(eR.troops[ed]||{}).map(e=>(0,a.jsxs)(L,{value:e,children:["Level ",e]},e))})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(S,{htmlFor:"troop-time",children:"Base Time/Troop (seconds)"}),(0,a.jsx)(N,{id:"troop-time",type:"number",placeholder:"e.g., 5400",value:el||"",onChange:e=>en(parseInt(e.target.value))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(S,{children:"Speedup Converter"}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,a.jsx)(N,{type:"number",placeholder:"Days",value:ep||"",onChange:e=>eu(parseInt(e.target.value)||0)}),(0,a.jsx)(N,{type:"number",placeholder:"Hours",value:ef||"",onChange:e=>eh(parseInt(e.target.value)||0)}),(0,a.jsx)(N,{type:"number",placeholder:"Mins",value:eg||"",onChange:e=>ex(parseInt(e.target.value)||0)})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(S,{htmlFor:"troop-speedups",children:"Total Speedups (seconds)"}),(0,a.jsx)(N,{id:"troop-speedups",type:"number",placeholder:"Calculated from converter",value:eo||"",onChange:e=>ec(parseInt(e.target.value))})]}),er&&el&&eo?(0,a.jsxs)("div",{className:"text-sm p-3 bg-secondary rounded-lg space-y-1",children:[(0,a.jsxs)("p",{children:["Time per troop: ",(0,a.jsxs)("span",{className:"font-bold text-accent",children:[el.toLocaleString(),"s"]})]}),(0,a.jsxs)("p",{children:["Max Trainable: ",(0,a.jsxs)("span",{className:"font-bold text-accent",children:[Math.floor(eo/(el||1)).toLocaleString()," troops"]})]}),(0,a.jsxs)("p",{children:["Points from Troops: ",(0,a.jsx)("span",{className:"font-bold text-accent",children:(Math.floor(eo/(el||1))*((null==(e=eR.troops[ed])?void 0:e[er])||0)).toLocaleString()})]})]}):(0,a.jsx)("p",{className:"text-xs text-muted-foreground text-center pt-2",children:"Fill all fields to calculate troop points."})]}),(0,a.jsx)(x,{children:(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Find base training time in your barracks for a single troop."})})]}),E&&(0,a.jsxs)(p,{className:"border-accent",children:[(0,a.jsxs)(u,{children:[(0,a.jsxs)(f,{className:"flex items-center gap-2 text-accent",children:[(0,a.jsx)(eD.crosshair,{})," Smart Sniping"]}),(0,a.jsx)(h,{children:"Find the best items to snipe a target score with point efficiency."})]}),(0,a.jsxs)(g,{className:"space-y-4",children:[(0,a.jsx)("div",{className:"grid grid-cols-1 gap-4",children:(0,a.jsxs)("div",{children:[(0,a.jsx)(S,{htmlFor:"target-gap",children:"Target Point Gap"}),(0,a.jsx)(N,{id:"target-gap",type:"number",placeholder:"Points needed",value:V||"",onChange:e=>et(parseInt(e.target.value))})]})}),(0,a.jsxs)("div",{className:"p-4 bg-secondary rounded-lg min-h-[120px]",children:[(0,a.jsx)("h4",{className:"font-semibold mb-2",children:"Suggestions:"}),es&&es.length>0?(0,a.jsxs)(Q,{children:[(0,a.jsx)(X,{children:(0,a.jsxs)(Z,{children:[(0,a.jsx)($,{children:"Item"}),(0,a.jsx)($,{className:"text-right",children:"Quantity"}),(0,a.jsx)($,{className:"text-right",children:"Points"})]})}),(0,a.jsx)(Y,{children:es.map((e,t)=>(0,a.jsxs)(Z,{children:[(0,a.jsx)(ee,{className:"font-medium",children:e.item}),(0,a.jsx)(ee,{className:"text-right",children:e.quantity.toLocaleString()}),(0,a.jsx)(ee,{className:"text-right",children:e.points.toLocaleString()})]},t))})]}):(0,a.jsx)("p",{className:"text-xs text-muted-foreground text-center pt-4",children:"Enter a point gap to get suggestions."})]})]}),(0,a.jsxs)(x,{className:"flex-col items-start gap-2 text-xs text-muted-foreground",children:[(0,a.jsx)("p",{children:"Smart sniping helps you reach a score with the most point-efficient item combination."}),(0,a.jsxs)("p",{children:["Enjoying this Pro feature? Consider sending ",(0,a.jsx)("span",{className:"font-bold text-yellow-300",children:"Froststars"})," in-game! ID: ",(0,a.jsx)("span",{className:"font-bold text-white",children:"176435188"})]})]})]})]})]})]})]}),(0,a.jsx)("div",{className:"sticky bottom-0 mt-6 md:mt-8 p-4 bg-gradient-to-t from-background via-background to-transparent",children:(0,a.jsxs)("div",{className:"bg-primary/80 backdrop-blur-sm border border-border rounded-lg shadow-2xl p-4 text-center",children:[(0,a.jsx)("p",{className:"text-sm text-primary-foreground/80",children:"Total Event Points"}),(0,a.jsx)("div",{className:"text-4xl md:text-5xl font-bold text-white tracking-tight",children:D.toLocaleString()})]})})]})})}},2710:(e,t,s)=>{Promise.resolve().then(s.bind(s,5932)),Promise.resolve().then(s.bind(s,1773))},4269:(e,t,s)=>{"use strict";s.d(t,{cn:()=>i});var a=s(2821),r=s(5889);function i(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.QP)((0,a.$)(t))}},5894:(e,t,s)=>{"use strict";s.d(t,{dj:()=>m});var a=s(2115);let r=0,i=new Map,l=e=>{if(i.has(e))return;let t=setTimeout(()=>{i.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,t)},n=[],o={toasts:[]};function c(e){o=((e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?l(s):e.toasts.forEach(e=>{l(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}})(o,e),n.forEach(e=>{e(o)})}function d(e){let{...t}=e,s=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>c({type:"DISMISS_TOAST",toastId:s});return c({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||a()}}}),{id:s,dismiss:a,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function m(){let[e,t]=a.useState(o);return a.useEffect(()=>(n.push(t),()=>{let e=n.indexOf(t);e>-1&&n.splice(e,1)}),[e]),{...e,toast:d,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},5932:(e,t,s)=>{"use strict";s.d(t,{default:()=>l});var a=s(5155),r=s(2115);class i extends r.Component{static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("Uncaught error:",e,t)}render(){return this.state.hasError?(0,a.jsxs)("div",{className:"container mx-auto p-4 md:p-8 text-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-red-500",children:"Something went wrong."}),(0,a.jsx)("p",{className:"mt-4",children:"An unexpected error occurred. Please try refreshing the page."}),this.state.error&&(0,a.jsx)("pre",{className:"mt-4 text-left bg-gray-800 text-white p-4 rounded-lg overflow-x-auto",children:this.state.error.toString()})]}):this.props.children}constructor(e){super(e),this.state={hasError:!1,error:null}}}let l=i}},e=>{e.O(0,[407,188,441,255,358],()=>e(e.s=2710)),_N_E=e.O()}]);